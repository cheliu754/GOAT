:root{
  --backdrop: rgba(3, 6, 23, 0.55);
  --ring: rgba(59,130,246,0.45);
  --panel: #ffffff;
  --border: #e5e7eb;
  --text: #0f172a;
  --muted: #64748b;
  --accent: #2563eb;
  --accent-2: #60a5fa;
  --amber: #f59e0b;
  --shadow: 0 20px 60px rgba(2,8,23,0.25);
}

@media (prefers-color-scheme: dark){
  :root{
    --panel: #0f172a;
    --border: #1f2937;
    --text: #e5e7eb;
    --muted: #9ca3af;
    --shadow: 0 20px 60px rgba(0,0,0,0.6);
    --backdrop: rgba(0,0,0,0.6);
  }
}

/* Backdrop */
.modalBackdrop{
  position: fixed;
  inset: 0;
  background: var(--backdrop);
  backdrop-filter: blur(2px);
  display: grid;
  place-items: center;
  padding: 20px;
  z-index: 2000;
  animation: fadeIn 160ms ease both;
}

/* Modal panel */
.modal{
  width: min(920px, 95vw);
  max-height: 90vh;
  overflow: auto;
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  animation: popIn 180ms cubic-bezier(.2,.8,.2,1) both;
}

.modal__head{
  display:flex; justify-content:space-between; align-items:center; gap:8px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; background: inherit;
}
.modal__title{ margin:0; font-size: 1.1rem; }

.iconbtn{
  appearance:none; border:0; background:transparent; cursor:pointer; font-size:18px;
  color:#ef4444; padding:6px; border-radius:10px;
}
.iconbtn:focus-visible{ outline:none; box-shadow:0 0 0 3px var(--ring); }

.modal__content{
  display:grid; gap:14px; padding:16px;
  grid-template-columns: 1fr 1fr;
}
@media (max-width: 860px){
  .modal__content{ grid-template-columns: 1fr; }
}

.panel{
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  display:grid; gap:12px;
}

.panel__title{ margin:0; font-weight:700; font-size:1.05rem; }

.field{ display:grid; gap:6px; }
.field__label{ font-size:0.85rem; color:var(--muted); }
.field__input{
  width:100%; border:1px solid var(--border); border-radius:12px; padding:10px 12px;
  background:#fff; color:#111827;
}
@media (prefers-color-scheme: dark){ .field__input{ background:#0b1220; color:var(--text);} }
.field__textarea{ resize:vertical; }

.grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
@media (max-width: 560px){ .grid2{ grid-template-columns: 1fr; } }

.adder{
  display:grid; grid-template-columns: 1.2fr 0.8fr auto; gap:10px; align-items:center;
}
@media (max-width: 560px){ .adder{ grid-template-columns: 1fr; } }

.extras{ list-style:none; margin:8px 0 0; padding:0; display:grid; gap:12px; }
.extra{ border-top:1px dashed var(--border); padding-top:10px; display:grid; gap:8px; }
.extra__row{ display:flex; justify-content:space-between; align-items:center; gap:8px; }
.extra__label{ font-weight:700; }

.toggle{ display:inline-flex; gap:10px; align-items:center; }
.toggle input{ position:absolute; opacity:0; pointer-events:none; }
.toggle__ui{
  width:44px; height:26px; border-radius:13px; background:#e5e7eb; position:relative; transition:background 120ms ease;
}
.toggle__ui::after{
  content:""; width:20px; height:20px; border-radius:50%; background:white; position:absolute; top:3px; left:3px;
  transition: transform 140ms ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.25);
}
.toggle input:checked + .toggle__ui{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
.toggle input:checked + .toggle__ui::after{ transform: translateX(18px); }
.toggle__text{ font-weight:600; }

.modal__footer{
  display:flex; gap:10px; justify-content:flex-end; padding: 12px 16px;
  border-top: 1px solid var(--border);
  position: sticky; bottom: 0; background: inherit;
}

.btn{
  appearance:none; border:0; padding:10px 14px; border-radius:12px; font-weight:700;
  background:var(--accent); color:#fff; cursor:pointer;
  box-shadow:0 6px 14px rgba(37,99,235,0.22);
  transition:transform 120ms ease, filter 120ms ease, box-shadow 120ms ease;
  text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
}
.btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
.btn:focus-visible{ outline:none; box-shadow:0 0 0 3px var(--ring); }
.btn--light{ background:var(--amber); color:#1f2937; box-shadow:0 6px 14px rgba(245,158,11,0.25); }

@keyframes fadeIn{
  from{ opacity: 0; } to{ opacity: 1; }
}
@keyframes popIn{
  from{ opacity: 0; transform: scale(.96) translateY(6px); }
  to{ opacity: 1; transform: scale(1) translateY(0); }
}
